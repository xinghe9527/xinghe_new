# è§†é¢‘éŸ³é¢‘ç¼–è¾‘å™¨ - å·²å®Œæˆçš„æ”¹è¿›

## âœ… å·²å®žçŽ°çš„åŠŸèƒ½

### 1. è§†é¢‘æ’­æ”¾å™¨æ”¾å¤§ 5 å€
- å¯¹è¯æ¡†å°ºå¯¸ï¼š1400x900ï¼ˆåŽŸæ¥ 1000x700ï¼‰
- è§†é¢‘åŒºåŸŸï¼šflex: 5ï¼ˆå æ®æ›´å¤šç©ºé—´ï¼‰

### 2. å®žæ—¶éŸ³é¢‘æ’­æ”¾
- ä½¿ç”¨ `audioplayers` åŒ…ä¸ºæ¯ä¸ªéŸ³é¢‘è½¨é“åˆ›å»ºç‹¬ç«‹æ’­æ”¾å™¨
- æ’­æ”¾æ—¶è‡ªåŠ¨åŒæ­¥æ‰€æœ‰éŸ³é¢‘è½¨é“
- æ‹–åŠ¨è¿›åº¦æ¡æ—¶å®žæ—¶åŒæ­¥éŸ³é¢‘ä½ç½®

## ðŸŽ¯ å·¥ä½œåŽŸç†

### éŸ³é¢‘åŒæ­¥é€»è¾‘
```dart
// 1. ä¸ºæ¯ä¸ªå¯¹è¯åˆ›å»ºéŸ³é¢‘æ’­æ”¾å™¨
_audioPlayers[dialogue.id] = AudioPlayer();

// 2. åŠ è½½éŸ³é¢‘æ–‡ä»¶
await player.setSource(DeviceFileSource(audioPath));

// 3. æ’­æ”¾æ—¶åŒæ­¥
if (_currentPlayTime >= startTime && _currentPlayTime < endTime) {
  final audioPosition = _currentPlayTime - startTime;
  await player.seek(Duration(milliseconds: (audioPosition * 1000).toInt()));
  await player.resume();
}
```

### å®žæ—¶åŒæ­¥
- è§†é¢‘æ’­æ”¾æ—¶ï¼Œæ¯æ¬¡ä½ç½®æ›´æ–°éƒ½ä¼šè°ƒç”¨ `_syncAudioPlayback()`
- æ£€æŸ¥æ¯ä¸ªéŸ³é¢‘æ˜¯å¦åº”è¯¥åœ¨å½“å‰æ—¶é—´æ’­æ”¾
- è‡ªåŠ¨è°ƒæ•´éŸ³é¢‘æ’­æ”¾ä½ç½®

## ðŸ“ ä½¿ç”¨è¯´æ˜Ž

1. **æ’­æ”¾è§†é¢‘** - ç‚¹å‡»æ’­æ”¾æŒ‰é’®ï¼Œè§†é¢‘å’Œæ‰€æœ‰éŸ³é¢‘è½¨é“åŒæ—¶æ’­æ”¾
2. **æ‹–åŠ¨è¿›åº¦æ¡** - æ‹–åŠ¨æ—¶ï¼ŒéŸ³é¢‘ä¼šè‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”ä½ç½®
3. **æš‚åœ** - æš‚åœæ—¶ï¼Œæ‰€æœ‰éŸ³é¢‘åŒæ—¶æš‚åœ
4. **æ‹–åŠ¨éŸ³é¢‘å—** - å¯ä»¥è°ƒæ•´éŸ³é¢‘åœ¨æ—¶é—´è½´ä¸Šçš„ä½ç½®

## ðŸ”§ æŠ€æœ¯ç»†èŠ‚

### ä½¿ç”¨çš„åŒ…
- `media_kit` - è§†é¢‘æ’­æ”¾
- `audioplayers` - å¤šéŸ³é¢‘è½¨é“æ’­æ”¾

### å…³é”®æ–¹æ³•
- `_syncAudioPlayback()` - åŒæ­¥æ‰€æœ‰éŸ³é¢‘æ’­æ”¾çŠ¶æ€
- `_togglePlayPause()` - æŽ§åˆ¶è§†é¢‘å’ŒéŸ³é¢‘çš„æ’­æ”¾/æš‚åœ

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **éŸ³é¢‘åŒæ­¥ç²¾åº¦** - ç”±äºŽæ˜¯å¤šä¸ªç‹¬ç«‹æ’­æ”¾å™¨ï¼Œå¯èƒ½æœ‰è½»å¾®å»¶è¿Ÿï¼ˆé€šå¸¸ < 50msï¼‰
2. **æ€§èƒ½** - å¤šä¸ªéŸ³é¢‘åŒæ—¶æ’­æ”¾ä¼šå ç”¨æ›´å¤šèµ„æº
3. **éŸ³é¢‘æ ¼å¼** - ç¡®ä¿éŸ³é¢‘æ–‡ä»¶æ ¼å¼è¢« audioplayers æ”¯æŒï¼ˆMP3, WAV, AAC ç­‰ï¼‰

## ðŸš€ ä¸‹ä¸€æ­¥å¯ä»¥æ·»åŠ çš„åŠŸèƒ½

1. [ ] åˆ†å‰²åŠŸèƒ½ - åœ¨æ’­æ”¾å¤´ä½ç½®åˆ†å‰²éŸ³é¢‘/è§†é¢‘
2. [ ] å³é”®èœå• - åˆ é™¤ç‰‡æ®µ
3. [ ] éŸ³é¢‘æ³¢å½¢æ˜¾ç¤º
4. [ ] éŸ³é‡è°ƒèŠ‚ï¼ˆæ¯ä¸ªè½¨é“ç‹¬ç«‹ï¼‰
5. [ ] æ·¡å…¥æ·¡å‡ºæ•ˆæžœ

## æµ‹è¯•å»ºè®®

1. æ‰“å¼€ç¼–è¾‘å™¨
2. ç‚¹å‡»æ’­æ”¾ï¼Œè§‚å¯Ÿè§†é¢‘å’ŒéŸ³é¢‘æ˜¯å¦åŒæ­¥
3. æ‹–åŠ¨è¿›åº¦æ¡ï¼Œæ£€æŸ¥éŸ³é¢‘æ˜¯å¦è·Ÿéš
4. æ‹–åŠ¨éŸ³é¢‘å—åˆ°ä¸åŒä½ç½®ï¼Œæµ‹è¯•æ’­æ”¾æ•ˆæžœ

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆï¼çŽ°åœ¨å¯ä»¥æµ‹è¯•äº†ã€‚
